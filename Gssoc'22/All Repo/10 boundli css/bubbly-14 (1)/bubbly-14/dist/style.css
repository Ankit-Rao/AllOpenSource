@property --ry {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}
body, div {
  display: grid;
}

body {
  margin: 0;
  height: 100vh;
}

.a3d {
  --tmp: repeat(var(--n), 2em);
  grid-template: var(--tmp)/var(--tmp);
  place-self: center;
  transform-style: preserve-3d;
  transform: rotatex(-35.2643896828deg) rotatey(-45deg);
}

.ball {
  --m: calc(.5*(var(--n) - 1));
  --sl: 97%, 63%;
  grid-area: calc(var(--j) + 1)/1;
  border-radius: 50%;
  transform: rotatey(var(--ry)) translate3d(calc((var(--i) - var(--m))*2em), 0, calc((var(--k) - var(--m))*2em)) rotatey(calc(45deg - var(--ry))) rotatex(35.2643896828deg);
  box-shadow: 0 0 2px 1px #000;
  background: hsl(calc((var(--j) - .375)*360/var(--n)), var(--sl));
  animation: ry 2s ease-in calc((var(--j)/var(--n) - 1)*2s) infinite;
}

@keyframes ry {
  50%, 100% {
    --ry: 90deg ;
  }
}